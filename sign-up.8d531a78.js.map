{"mappings":"ujBAAA,IAAAA,EAAAC,EAAA,S,oDAYA,MAWMC,GAAM,EAAAF,EAAAG,eAXW,CACrBC,OAAQ,0CACRC,WAAY,wCACZC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAKXC,GAAO,EAAAC,EAAAC,SAAQX,GACfY,GAAW,EAAAC,EAAAC,aAAYd,GAIvBe,GAHON,EAAKO,YAGD,IACXC,EAASC,SAASC,cAAc,eAChCC,EAAeF,SAASC,cAAc,uBACtCE,EAAkBH,SAASC,cAAc,0BACzCG,EAAkBJ,SAASC,cAAc,0BACzCI,EAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,eAclDC,EAAUC,IACdd,EAASc,EAAEC,OAAOC,KAAKC,QAAUH,EAAEC,OAAOG,MAAMD,OAChDN,aAAaQ,QAAQ,aAAcV,KAAKW,UAAUpB,SAE3BqB,IAAnBrB,EAASsB,QACXtB,EAASsB,MAAQ,SAEOD,IAAtBrB,EAASuB,WACXvB,EAASuB,SAAW,GAAE,EAGpBC,EAAWV,IACfA,EAAEW,iBACFd,aAAae,WAAW,cAExBxB,EAAOyB,QACP,MAAMC,SAAEA,EAAQL,SAAEA,EAAQD,MAAEA,GAAUtB,GAEtC,EAAAL,EAAAkC,gCAA+BnC,EAAM4B,EAAOM,GACzCE,MAAKC,IAGJ,MAAMC,EAAOD,EAAeE,MAE5B,EAAAnC,EAAAoC,MAAI,EAAApC,EAAAqC,KAAItC,EAAU,SAAWmC,EAAKI,KAAM,CACtCb,WACAD,UAEFe,EAAAC,GAASC,OAAOC,QACd,GAAGjB,0DAELkB,YACE,IAAOC,OAAOC,SAAW,oCACzB,IACD,IAEFC,OAAMC,IACaA,EAAMC,KAAxB,MACMC,EAAeF,EAAMG,QAC3BX,EAAAC,GAASC,OAAOU,QAAQF,EAAa,GACrC,EAGN5C,SAAS+C,iBAAiB,mBAAoBb,EAAAc,EAAA,EAvDvB,KACG,OAApB3C,IACFH,EAAaa,MACXV,EAAgBc,MAAM8B,OAAS,EAAI5C,EAAgBc,MAAQ,GAC7DhB,EAAgBY,MACdV,EAAgBwC,QAAQI,OAAS,EAAI5C,EAAgBwC,QAAU,GACjEhD,EAAgB,MAAIK,EAAaa,MACjClB,EAAmB,SAAIM,EAAgBY,MACvClB,EAAmB,SAAIO,EAAgBW,MACvCP,aAAaQ,QAAQ,aAAcV,KAAKW,UAAUpB,I,GA8CiB,MAClEE,IAGHA,EAAOgD,iBAAiB,QAASb,EAAAc,EAAA,CAAStC,EAAS,MACnDX,EAAOgD,iBAAiB,SAAU1B,G","sources":["src/js/sign-up.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport Notiflix from 'notiflix';\nimport throttle from 'lodash.throttle';\n\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n} from 'firebase/auth';\n\nimport { getDatabase, set, ref } from 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDwpmuhImdY7RHC3U0YYZIshSlCJATjNaU',\n  authDomain: 'project-team-10-5792d.firebaseapp.com',\n  projectId: 'project-team-10-5792d',\n  storageBucket: 'project-team-10-5792d.appspot.com',\n  messagingSenderId: '76240638065',\n  appId: '1:76240638065:web:5518f239b638187e380bd0',\n  measurementId: 'G-CCNXH403RH',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst database = getDatabase(app);\nconst user = auth.currentUser;\n\n// Inforamtion for the sign-up\nconst formData = {};\nconst formEl = document.querySelector('.login-form');\nconst emailInputEl = document.querySelector(\"input[name='email']\");\nconst passwordInputEl = document.querySelector(\"input[name='password']\");\nconst usernameInputEl = document.querySelector(\"input[name='username']\");\nconst gettingFormData = JSON.parse(localStorage.getItem('login-form'));\n\nconst updateFormData = () => {\n  if (gettingFormData !== null) {\n    emailInputEl.value =\n      gettingFormData.email.length > 0 ? gettingFormData.email : '';\n    passwordInputEl.value =\n      gettingFormData.message.length > 0 ? gettingFormData.message : '';\n    formData['email'] = emailInputEl.value;\n    formData['password'] = passwordInputEl.value;\n    formData['username'] = usernameInputEl.value;\n    localStorage.setItem('login-form', JSON.stringify(formData));\n  }\n};\nconst onInput = e => {\n  formData[e.target.name.trim()] = e.target.value.trim();\n  localStorage.setItem('login-form', JSON.stringify(formData));\n\n  if (formData.email === undefined) {\n    formData.email = '';\n  }\n  if (formData.username === undefined) {\n    formData.username = '';\n  }\n};\nconst onSubmit = e => {\n  e.preventDefault();\n  localStorage.removeItem('login-form');\n\n  formEl.reset();\n  const { password, username, email } = formData;\n\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(userCredential => {\n      // Signed in\n\n      const user = userCredential.user;\n\n      set(ref(database, 'users/' + user.uid), {\n        username,\n        email,\n      });\n      Notiflix.Notify.success(\n        `${username}, you  successfully signed up and loginnig in now...!`\n      );\n      setTimeout(\n        () => (window.location = 'http://localhost:1234/index.html'),\n        3000\n      );\n    })\n    .catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      Notiflix.Notify.failure(errorMessage);\n    });\n};\n\ndocument.addEventListener('DOMContentLoaded', throttle(updateFormData, 500));\nif (!formEl) {\n  return;\n} else {\n  formEl.addEventListener('input', throttle(onInput, 500));\n  formEl.addEventListener('submit', onSubmit);\n}\n"],"names":["$gKkQl","parcelRequire","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","$eyjy7","getAuth","database","$jAzyG","getDatabase","formData","currentUser","formEl","document","querySelector","emailInputEl","passwordInputEl","usernameInputEl","gettingFormData","JSON","parse","localStorage","getItem","onInput","e","target","name","trim","value","setItem","stringify","undefined","email","username","onSubmit","preventDefault","removeItem","reset","password","createUserWithEmailAndPassword","then","userCredential","user1","user","set","ref","uid","$parcel$interopDefault","$7Y9D8","Notify","success","setTimeout","window","location","catch","error","code","errorMessage","message","failure","addEventListener","$9OeKo","length"],"version":3,"file":"sign-up.8d531a78.js.map"}