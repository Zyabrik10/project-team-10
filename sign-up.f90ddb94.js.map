{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,oDAuBMC,GAAM,EAAAF,EAAAG,eAXW,CACrBC,OAAQ,0CACRC,WAAY,wCACZC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAKXC,GAAO,EAAAC,EAAAC,SAAQX,GACfY,GAAW,EAAAC,EAAAC,aAAYd,GAIvBe,GAHON,EAAKO,YAGD,IACXC,EAASC,SAASC,cAAc,eAChCC,EAAeF,SAASC,cAAc,uBACtCE,EAAkBH,SAASC,cAAc,0BACzCG,EAAkBJ,SAASC,cAAc,0BACzCI,EAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,eA0DxDT,SAASU,iBAAiB,mBAAoBC,EAAAC,EAAA,EAxDvB,WACG,OAApBP,IACFH,EAAaW,MACXR,EAAgBS,MAAMC,OAAS,EAAIV,EAAgBS,MAAQ,GAC7DX,EAAgBU,MACdR,EAAgBW,QAAQD,OAAS,EAAIV,EAAgBW,QAAU,GACjEnB,EAAgB,MAAIK,EAAaW,MACjChB,EAAmB,SAAIM,EAAgBU,MACvChB,EAAmB,SAAIO,EAAgBS,MACvCL,aAAaS,QAAQ,aAAcX,KAAKY,UAAUrB,I,GA+CiB,MAClEE,IAGHA,EAAOW,iBAAiB,QAASC,EAAAC,EAAA,EAhDnB,SAAAO,GACdtB,EAASsB,EAAEC,OAAOC,KAAKC,QAAUH,EAAEC,OAAOP,MAAMS,OAChDd,aAAaS,QAAQ,aAAcX,KAAKY,UAAUrB,SAE3B0B,IAAnB1B,EAASiB,QACXjB,EAASiB,MAAQ,SAEOS,IAAtB1B,EAAS2B,WACX3B,EAAS2B,SAAW,G,GAwC6B,MACnDzB,EAAOW,iBAAiB,UAtCT,SAAAS,GACfA,EAAEM,iBACFjB,aAAakB,WAAW,cAExB3B,EAAO4B,QACP,IAAQC,EAA8B/B,EAA9B+B,SAAUJ,EAAoB3B,EAApB2B,SAAUV,EAAUjB,EAAViB,OAE5B,EAAAtB,EAAAqC,gCAA+BtC,EAAMuB,EAAOc,GACzCE,MAAK,SAAAC,GAGJ,IAAMC,EAAOD,EAAeE,MAE5B,EAAAtC,EAAAuC,MAAI,EAAAvC,EAAAwC,KAAIzC,EAAU,SAAWsC,EAAKI,KAAM,CACtCZ,WACAV,UAEFH,EAAA0B,GAASC,OAAOC,QACd,GAAYC,OAAThB,EAAS,0DAEdiB,YACE,W,OACGC,OAAOC,SAAW,+D,GACrB,I,IAGHC,OAAM,SAAAC,GACaA,EAAMC,KAAxB,IACMC,EAAeF,EAAM7B,QAC3BL,EAAA0B,GAASC,OAAOU,QAAQD,E","sources":["src/js/sign-up.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport Notiflix from 'notiflix';\nimport throttle from 'lodash.throttle';\n\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n} from 'firebase/auth';\n\nimport { getDatabase, set, ref } from 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDwpmuhImdY7RHC3U0YYZIshSlCJATjNaU',\n  authDomain: 'project-team-10-5792d.firebaseapp.com',\n  projectId: 'project-team-10-5792d',\n  storageBucket: 'project-team-10-5792d.appspot.com',\n  messagingSenderId: '76240638065',\n  appId: '1:76240638065:web:5518f239b638187e380bd0',\n  measurementId: 'G-CCNXH403RH',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst database = getDatabase(app);\nconst user = auth.currentUser;\n\n// Inforamtion for the sign-up\nconst formData = {};\nconst formEl = document.querySelector('.login-form');\nconst emailInputEl = document.querySelector(\"input[name='email']\");\nconst passwordInputEl = document.querySelector(\"input[name='password']\");\nconst usernameInputEl = document.querySelector(\"input[name='username']\");\nconst gettingFormData = JSON.parse(localStorage.getItem('login-form'));\n\nconst updateFormData = () => {\n  if (gettingFormData !== null) {\n    emailInputEl.value =\n      gettingFormData.email.length > 0 ? gettingFormData.email : '';\n    passwordInputEl.value =\n      gettingFormData.message.length > 0 ? gettingFormData.message : '';\n    formData['email'] = emailInputEl.value;\n    formData['password'] = passwordInputEl.value;\n    formData['username'] = usernameInputEl.value;\n    localStorage.setItem('login-form', JSON.stringify(formData));\n  }\n};\nconst onInput = e => {\n  formData[e.target.name.trim()] = e.target.value.trim();\n  localStorage.setItem('login-form', JSON.stringify(formData));\n\n  if (formData.email === undefined) {\n    formData.email = '';\n  }\n  if (formData.username === undefined) {\n    formData.username = '';\n  }\n};\nconst onSubmit = e => {\n  e.preventDefault();\n  localStorage.removeItem('login-form');\n\n  formEl.reset();\n  const { password, username, email } = formData;\n\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(userCredential => {\n      // Signed in\n\n      const user = userCredential.user;\n\n      set(ref(database, 'users/' + user.uid), {\n        username,\n        email,\n      });\n      Notiflix.Notify.success(\n        `${username}, you  successfully signed up and loginnig in now...!`\n      );\n      setTimeout(\n        () =>\n          (window.location = 'https://millenialia.github.io/project-team-10-added-features/'),\n        3000\n      );\n    })\n    .catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      Notiflix.Notify.failure(errorMessage);\n    });\n};\n\ndocument.addEventListener('DOMContentLoaded', throttle(updateFormData, 500));\nif (!formEl) {\n  return;\n} else {\n  formEl.addEventListener('input', throttle(onInput, 500));\n  formEl.addEventListener('submit', onSubmit);\n}\n"],"names":["$fkNhc","parcelRequire","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","$gQOBw","getAuth","database","$cokon","getDatabase","formData","currentUser","formEl","document","querySelector","emailInputEl","passwordInputEl","usernameInputEl","gettingFormData","JSON","parse","localStorage","getItem","addEventListener","$parcel$interopDefault","$dCfNN","value","email","length","message","setItem","stringify","e","target","name","trim","undefined","username","preventDefault","removeItem","reset","password","createUserWithEmailAndPassword","then","userCredential","user1","user","set","ref","uid","$6JpON","Notify","success","concat","setTimeout","window","location","catch","error","code","errorMessage","failure"],"version":3,"file":"sign-up.f90ddb94.js.map"}